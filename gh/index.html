<!DOCTYPE html>
<html lang="zh-CN"><head> <meta charset="utf-8"><title>Github静态文件加速</title>
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<link rel="stylesheet" href="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/bootstrap/5.1.3/css/bootstrap.min.css">
<style>body{box-sizing: border-box;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;}</style></header>
<div class="col-10 mx-auto" style="max-width:800px;">
<h2 class="my-5">Github静态文件加速</h2>
<form>
	<div class="form-group">
		<label for="gh">选择线路</label>
		<select id="gh" class="form-control my-3">
		  <optgroup label="Release Archive Raw and File">
		      <option value="https://github.moeyy.xyz">github.moeyy.xyz</option>
			  <option value="https://mirror.ghproxy.com">mirror.ghproxy.com</option>
			  <option value="https://ghproxy.net">ghproxy.net</option>
			  <option value="https://gh-proxy.com/">gh-proxy.com/</option>
		      <option value="https://hub.gitmirror.com">hub.gitmirror.com</option>
			  <option value="https://gh.h233.eu.org">gh.h233.eu.org</option>
		      <option value="https://gh.con.sh">gh.con.sh</option>
		      <option value="https://ghps.cc">ghps.cc</option>
			</optgroup>
		    <optgroup label="以下仅代理raw.githubusercontent.com域名">
		      <option value="https://raw.fgit.cf">raw.fgit.cf</option>
		      <option value="https://raw.gitmirror.com">raw.gitmirror.com</option>
		      <!--option value="https://cdn.jsdelivr.net/gh">cdn.jsdelivr.net</option>
			  <option value="https://fastly.jsdelivr.net/gh">fastly.jsdelivr.net</option>
		      <option value="https://gcore.jsdelivr.net/gh">gcore.jsdelivr.net</option>
		      <option value="https://jsdelivr.b-cdn.net/gh">jsdelivr.b-cdn.net</option-->
		    </optgroup>
		    </optgroup>
		</select>
	</div>
	<div class="form-group">
		<label for="url">输入链接</label>
		<input value="" type="text" id="url" class="form-control my-3" placeholder="" required autofocus>
	</div>
<button id="go" class="btn form-control py-2 my-3" style="background-color:#26c;color:#fff;">加速下载</button>
</form>

    <div class="text-wrap" style="word-wrap:break-word;">
        <!--p><b>支持release、archive以及文件，右键复制出来的链接都合乎标准</b></p>
		<p>Raw文件：https://raw.githubusercontent.com/username/project/main/file
		<p>分支源码：https://github.com/username/project/archive/master.zip</p>
        <p>release源码：https://github.com/username/project/archive/v0.1.0.tar.gz</p>
        <p>release文件：https://github.com/user/proj/releases/down/v1/example.zip</p>
        <p>分支文件：https://github.com/username/project/blob/master/filename</p-->
    </div>

</div>
<script>
var args = decodeURI(window.location.search);
var arg = args.trim().slice(1);
//document.write(arg);
if(arg){document.getElementById("url").value = arg;}

  const ghsel = document.getElementById("gh");
  const urlinput = document.getElementById("url");
  const button = document.getElementById("go");

  button.addEventListener("click", function() {
	const gh=ghsel.value;
	const url=urlinput.value;
	//if(gh.indexOf("net/gh") > -1){var link = url.replace(/(?<=com\/.+?\/.+?)\/(.+?\/)/, '@$1').replace(/^(?:https?:\/\/)?raw\.(?:githubusercontent|github)\.com/, gh);}//else 
	if(gh.indexOf("raw.")> -1){var link = url.replace(/^(?:https?:\/\/)?raw\.(?:githubusercontent|github)\.com/, gh);}else{ var link = gh + "/" + url; }
	//alert(link);
    window.open(link, "_blank");
  });
</script>
</html>